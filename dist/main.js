(()=>{var e={344:()=>{const e=document.querySelectorAll(".filter__item"),t=document.querySelector(".cards__wrapper"),n=document.querySelector(".cards__btn-main"),o=document.querySelector(".header__shopping-cart span");let s="",c=null,a=0;document.addEventListener("DOMContentLoaded",(function(){e.forEach((e=>{e.addEventListener("click",i)})),n.addEventListener("click",l);const t=document.querySelector(".filter__item.active");t&&(s=t.textContent,c=r.find((e=>e.name===s)),c?d(u(`subject:${c.subject}`)):console.log("Категория не найдена"))}));const r=[{name:"Architecture",subject:"Architecture"},{name:"Art & Fashion",subject:"Art"},{name:"Biography",subject:"Biography&Autobiography"},{name:"Business",subject:"Business"},{name:"Crafts & Hobbies",subject:"Crafts&Hobbies"},{name:"Drama",subject:"Drama"},{name:"Fiction",subject:"Fiction"},{name:"Food & Drink",subject:"Cooking"},{name:"Health & Wellbeing",subject:"Health&Wellbeing"},{name:"History & Politics",subject:"History"},{name:"Humor",subject:"Humor"},{name:"Poetry",subject:"Poetry"},{name:"Psychology",subject:"Psychology"},{name:"Science",subject:"Science"},{name:"Technology",subject:"Technology"},{name:"Travel & Maps",subject:"Travel"}];function i(t){e.forEach((e=>{e.classList.remove("active")}));const n=t.target;if(n.classList.add("active"),s=n.textContent,c=r.find((e=>e.name===s)),c){const e=`subject:${c.subject}`;a=0,d(u(e))}else console.log("Категория не найдена")}function l(){a+=6,c&&d(u(`subject:${c.subject}`))}function u(e){const t=a+6;return`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(e)}&key=AIzaSyDBugIaCt5--F5LHnMyxvXaNg1l02ZmXIc&printType=books&startIndex=${a}&maxResults=${t}&langRestrict=en`}function d(e){return fetch(e).then((e=>e.json())).then((e=>{var n;(n=e).items.length>0?function(e){let n="";e.items.length>0&&(e.items.forEach((e=>{let t=e.volumeInfo.title||"No Title",o=e.volumeInfo.authors?e.volumeInfo.authors.join(", "):"No Author",s=((r=e.volumeInfo.description||"").length>200?r.substring(0,200)+"...":r)||"No Description",c=e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"https://placehold.co/220x320/png",a="";var r;e.saleInfo&&e.saleInfo.retailPrice&&e.saleInfo.retailPrice.amount&&(a=`<div class="cards__price">${e.saleInfo.retailPrice.amount} ${e.saleInfo.retailPrice.currencyCode}</div>`);let i="";if(e.volumeInfo.averageRating){const t=parseInt(e.volumeInfo.averageRating);!isNaN(t)&&t>0&&t<=5&&(i='<div class="cards__stars">');for(let e=0;e<t;e++)i+='<span class="cards__star">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="11" viewBox="0 0 12 11" fill="none">\n                        <path d="M6 0L7.80568 3.5147L11.7063 4.1459L8.92165 6.9493L9.52671 10.8541L6 9.072L2.47329 10.8541L3.07835 6.9493L0.293661 4.1459L4.19432 3.5147L6 0Z" fill="#F2C94C" />\n                    </svg>\n                </span>';i+="</div>"}const l=e.id;let u="Buy now";(function(e){return m().includes(e)})(l)&&(u="In the cart"),n+=`<div class="cards__items">\n                <div class="cards__images">\n                    <img src="${c}" alt="pic" class="cards__pic">\n                </div>\n                <div class="cards__content">\n                    <span class="cards__author">${o}</span>\n                    <h3 class="cards__name">${t}</h3>\n                    <div class="cards__stars">\n                        <span class="review">${i}</span>\n                    </div>\n                    <div class="cards__desc">${s}</div>\n                    <div class="cards__price">${a}</div>\n    \n                    <button class="cards__btn" data-book-id="${l}">${u}</button>\n                </div>\n            </div>`})),t.innerHTML=n)}(n):console.log("No more books to load.")})).catch((e=>{console.error("Error fetching data:",e)}))}function m(){const e=localStorage.getItem("cart");return e?JSON.parse(e):[]}function g(e){localStorage.setItem("cart",JSON.stringify(e))}document.addEventListener("click",(function(e){if(e.target.classList.contains("cards__btn")){const t=e.target.getAttribute("data-book-id");!function(e,t){const n=function(e){return m().indexOf(e)}(t);-1!==n?(e.textContent="Buy now",function(e){const t=m();t.splice(e,1),g(t)}(n),o.textContent=m().length):(e.textContent="In the cart",function(e){const t=m();t.push(e),g(t)}(t),o.textContent=m().length)}(e.target,t)}}))},785:()=>{const e=document.querySelector(".slider__images"),t=document.querySelectorAll(".dot"),n=[{imgSrc:"./images/slider/banner1.jpg"},{imgSrc:"./images/slider/banner2.jpg"},{imgSrc:"./images/slider/banner3.png"}];let o=0;function s(o){e.style.opacity=0,setTimeout((()=>{e.src=n[o].imgSrc,e.style.opacity=1}),600),document.querySelector(".dot.dot-active").classList.remove("dot-active"),t[o].classList.add("dot-active")}t.forEach((function(e,t){e.addEventListener("click",(function(){o=t,s(o)}))})),setInterval((function(){o=(o+1)%n.length,s(o)}),5e3)}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(785),n(344)})()})();